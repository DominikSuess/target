_.extend(CCweb.util,{getIconPathForSingleAppProduct:function(e,t){t=t||"";var r,n=CCweb.util.getProductIconPath(),o=CCweb.util.supportsRetinaDisplay?"_2x":"";r={CCLE:"/desktopsync",ACRO:"/acrobat",APAP:"/acrobat",AEFT:"/aftereffects",AUDT:"/audition",DRWV:"/dreamweaver",EDGE:"/edge_animate",SHDW:"/edge_inspect",FLPR:"/flash",ILST:"/illustrator",AICY:"/incopy",IDSN:"/indesign",MUSE:"/muse",PHSP:"/photoshop",PRLD:"/prelude",PPRO:"/premierepro",SPGD:"/speedgrade"};var i=r[e]?r[e]:r.CCLE;return n+i+t+o+".png"},marketSegmentMap:CCweb.util.hasFeature("temp_jil_v2")?void 0:Object.freeze({CR:"COM",ED:"EDU",GV:"GOV"}),elementInViewport:function(e){var t=$(window).width(),r=$(window).height(),n=$(document).scrollTop(),o=$(document).scrollLeft(),i=n,a=n+r,l=o,c=o+t,s=e.offset();return s.top>i&&s.top<a&&s.left>l&&s.left<c},ensureElementIsVisible:function(e){CCweb.util.elementInViewport(e)||$("html,body").animate({scrollTop:e.offset().top},"fast")},getGeneralErrorForPurchase:function(){return CCweb.util.loc("We're sorry, something seems to be wrong on our end. Your purchase was unsuccessful. Please {0}try again{1} later. If this continues to fail, please contact {2}Customer Support{3}.","","","<a href='"+CCweb.util.goURL("http://www.adobe.com/go/cc_contactsupport")+"' target='_blank'>","</a>")},isBrowserIE:function(){if(CCweb.util.isIE9OrEarlier())return!0;var e=CCweb.config.detection?CCweb.config.detection.browser:null;if("msie"===e)return!0;if(!e&&CCweb.config.detection&&"windows"===CCweb.config.detection.platform&&"gecko"===CCweb.config.detection.engine){var t=/rv:/.test(navigator.userAgent.toLowerCase()),r=/trident\//.test(navigator.userAgent.toLowerCase());if(t&&r)return!0}if(CCweb.util.isWin){var n=/^mozilla\/(5|6)\.0 \(windows nt 1[0-9]+\.0\;/.test(navigator.userAgent.toLowerCase());if(n)return!0}return!1},getSupportPanelURL:function(){return CCweb.util.goURL("https://www.adobe.com/go/CCTSupportTab")},getTeamSupportURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/cc_ContactTeamSupport")},getCCPackagerInstallerForWindowsURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/ccp_installer_win")},getCCPackagerInstallerForMacURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/ccp_installer_osx")},getCCPackagerVideoURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/cc_learn_ccp")},getCCPackagerHelpURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/ccp_deploymentguide")},getDeviceBasedLicensesHelpURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/ccp_device_video")},getDeviceLicenseHelpURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/device_license")+"#purchase_additional_licenses"},getAcrobatVideoURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/acro_cctdeploy_video")},getAcrobatHelpURL:function(){return CCweb.util.goURL("http://www.adobe.com/go/acro_cct_deployment")},getTeamError:function(e){var t={};switch(t.alertType="notice",e){case"PURCHASE_FAILED_BAD_REQUEST":t.message=CCweb.util.loc("Your purchase was unsuccessful. Please try again with a different PO number.");break;case"PURCHASE_FAILED":t.message=CCweb.util.loc("We're sorry, something seems to be wrong on our end. Your purchase was unsuccessful. Please try again later. If this continues to fail, please contact {0}customer support{1}.","<a href='"+CCweb.util.getTeamSupportURL()+"' target='_blank'>","</a>");break;case"SEAT_FETCH_FAILED":t.message=CCweb.util.loc("We're sorry, something seems to be wrong on our end. Your purchase succeeded but we need you to refresh this page to see your team information.");break;default:t.message=CCweb.util.loc("We're sorry. Something seems to be wrong on our end. Please try again later. If this continues to fail, please contact {0}customer support{1}.","<a href='"+CCweb.util.getTeamSupportURL()+"' target='_blank'>","</a>")}return t},createCCLEProductArrayForSelector:function(){return[{productCode:"CCLE",productName:CCweb.util.loc("Creative Cloud Complete"),productIconUrl:CCweb.util.getIconPathForSingleAppProduct("CCLE","_med")}]},setPlaceholdersForCUI:function(e){(!Modernizr.input.placeholder||CCweb.util.isBrowserIE())&&e.$("[placeholder]").stickyPlaceholders()},getPlaceholderInputValue:function(e,t){var r="";return(Modernizr.input.placeholder||!e.is(".placeholder"))&&(r=$.trim(e.val())),t?r:_.escape(r)},setPlaceholderInputValue:function(e,t){Modernizr.input.placeholder||(e.val()===e.attr("placeholder")||e.val()===e.data("placeholder-text")||e.hasClass("placeholder"))&&(e.data("placeholder-text",e.val()||e.attr("placeholder")),e.prop("placeholder",""),e.removeClass("placeholder")),e.val(t)},textAreaMaxLengthHandler:function(e){e.$("textarea[maxlength]").on("keydown",function(e){var t=this.value,r=t.length,n=$(this).attr("maxlength"),o=e.keyCode;return n>r||8===o||9===o||46===o||o>=37&&40>=o||e.ctrlKey}).on("paste",function(){var e=this.value,t=e.length,r=$(this).attr("maxlength"),n=window.clipboardData.getData("Text"),o=n.length;return t+o>r?!1:void 0})},buildUsername:function(e,t){return e&&t?t+(CCweb.util.isFamilyNameFirstLocale(CCweb.config.locale)?" ":", ")+e:t?t:e?e:""},needToShowExpireDateForIndirectTeam:CCweb.util.hasFeature("temp_jil_v2")?function(e,t){return e.isIndirect()&&e.get("renewalInfo").isPartialRenewalOrder()?t.isRenewingExplicit()||!t.isRenewable()?!1:e.get("renewalInfo").needToSelectSeatsForRenewal()?e.get("seats").anySeatExplicitlyRenewed()?!t.isRenewingImplicit():!1:!e.get("entitlementSummary").allSeatsRenewed(t.get("productCode")):!1}:function(e,t){if(!e.isIndirect()||!e.isPartialRenewalOrder())return!1;if(t.isRenewingExplicit()||!t.isRenewable())return!1;var r=e.needToSelectSeatsForRenewal();if(r&&!e.get("seats").anySeatExplicitlyRenewed())return!1;if(r&&e.get("numSeatsNeedingReconciliation")>0){var n=t.get("productCode");return!e.get("entitlementSummary").allSeatsRenewed(n)}return!t.isRenewingImplicit()},getAssignUserDisplayText:function(){return CCweb.util.loc("Assign user")},getExpirationDisplayText:function(e,t,r){var n="";return CCweb.util.needToShowExpireDateForIndirectTeam(e,t)?n=CCweb.util.loc("Expires on {0}",CCweb.util.formatCalendarDate(r.get("renewalGraceEndDate"))):e.isDirect()&&"CANCELLING"===t.get("paymentStatus")&&(n=!CCweb.util.hasFeature("temp_jil_v2")&&e.isRenewalReminderNotification()?CCweb.util.loc("Expires on {0}",CCweb.util.formatCalendarDate(e.get("anniversaryDate"))):CCweb.util.hasFeature("temp_jil_v2")&&e.get("renewalInfo").isRenewalReminderNotification()?CCweb.util.loc("Expires on {0}",CCweb.util.formatCalendarDate(e.get("anniversaryDate"))):CCweb.util.loc("Expires on your next payment date")),n},_isMatch:function(e,t){return e?(e=e.replace(/Â /g," "),e.toLocaleLowerCase().indexOf(t)>=0):!1},searchRow:function(e,t,r){var n=!0;if(t){t=t.toLocaleLowerCase();var o=e.find(".username, .assign-user-button").text();if(n=this._isMatch(o,t),!n){var i=e.find(".email").text();n=this._isMatch(i,t)}if(!n&&!r){var a=e.find(".product-name").text();n=this._isMatch(a,t)}if(!n&&r){var l=e.find(".membership").text();n=this._isMatch(l,t)}if(!n&&!r){var c=e.find(".storage-label:visible").text();n=this._isMatch(c,t)}if(!n){var s="";e.find(".status-text").each(function(){s=s+$(this).text()+" "}),n=this._isMatch(s,t)}}return n},isValidAdobeId:function(e){return CCweb.util.isEmailValid(e)&&e.length<=60},convertToBytes:function(e,t){var r=["KB","MB","GB","TB"],n=_.indexOf(r,t);return e*Math.pow(1024,n+1)},convertBytesToGB:function(e){return(e/Math.pow(1024,3)).toFixed(1)},convertNumToGB:function(e,t){if("GB"===t)return e;var r=CCweb.util.convertToBytes(e,t);return CCweb.util.convertBytesToGB(r)},convertGigabytesToString:function(e,t){var r,n;if(_.isString(e)?(n=e,r=parseFloat(e)):(n=e.toString(),r=e),r%1!==0){var o=1;do n=r.toFixed(o),o++;while(4>o&&"0"===n.charAt(n.length-1));CCweb.util.isSpecialDecimalLocale(CCweb.config.locale)&&(n=n.replace(".",","))}else if(_.isString(e)){var i=n.indexOf(".",1);i>=1&&(n=n.substring(0,i))}return n+(t?" ":"")+"GB"},getQueryParameters:function(e){var t="";return _.isEmpty(e)?t:(_.each(e,function(e,r){_.isUndefined(e)||(t+=(0===t.length?"?":"&")+r+"="+e)},this),t?encodeURI(t):void 0)},filteredExtend:function(e,t,r){return r=r||{},e=e||{},_.extend(r,_.pick(e,t))},wrapStrong:function(e){return"<strong>"+e+"</strong>"},wrapStrongNoWrap:function(e){return'<strong class="nowrap">'+e+"</strong>"}});