CCweb.model_cart_item=Backbone.Model.extend({}),CCweb.model_cart_item_team=CCweb.model_cart_item.extend({defaults:_.extend({},CCweb.model_cart_item.defaults,{productCode:null,quantity:0,localizedProductName:null}),initialize:function(t,e){e=e||{},e.offer&&(this.offer=e.offer,this.offer.on("pricecollection:sync",this._onPriceSync,this),this.set("localizedProductName",this.offer.getLocalizedProductName()),this._updateCheckoutItem()),this._updateSubtotal(),this.on("change:quantity",this._onQuantityChange,this)},_updateCheckoutItem:function(){this.set("checkoutItem",this.toCheckoutItem())},_updateSubtotal:function(){var t;this.offer&&(t=this.offer.getPrice(this.get("quantity"))),t?this.set("subtotal",this.offer.formatPrice(t.get("priceWithoutTax"))):this.set("subtotal","...")},_onQuantityChange:function(){this._updateSubtotal(),this._updateCheckoutItem()},_onPriceSync:function(){this._updateSubtotal()},resetPrice:function(){this.set("subtotal","...")},setOffer:function(t){var e=this.offer;e&&e.off("pricecollection:sync",this._onPriceSync,this),this.offer=t,t&&(this.set("localizedProductName",this.offer.getLocalizedProductName()),this._updateCheckoutItem(),this.offer.on("pricecollection:sync",this._onPriceSync,this),this._updateSubtotal())},toCheckoutItem:function(){return this.offer?{languageCode:this.offer.getLanguageCode(),productKey:this.offer.getProductKey(),quantity:this.get("quantity"),serviceCommitment:this.offer.getServiceCommitment()}:null}});