CCweb.view_grand_gesture=Backbone.View.extend({className:"special_offers",attributes:{style:"display:none"},events:{"click .back a":"onBackClick"},initialize:function(e){this.collectionPlans=e.collectionPlans,this.childViews=[],_.bindAll(this,"render","onClose"),this.template=_.template('<div class="navigation_bar"><span class="back"><a href="" /></span><div class="vrule" /><span class="single_apps_nav_title"><%= CCweb.util.loc("Pick a Plan") %></span></div><div class="hrule" /><div class="special_offers_container" ><div class="special_offers_content" /></div><div class="hrule" /><div class="tab_footer" />'),this.textTemplate=_.template('<div class="special_offers_text"><p><%= CCweb.util.loc("{0}Pricing for existing Creative Suite customers:{1} We offer special prices for our Creative Cloud subscription to existing Creative Suite customers. All plans require a previous serial number or registered product, and 1-year subscription agreement. To sign up, click Join below the plan that is right for you.", "<span class=\'bold\'>", "</span>") %></p></div>'),this.modelPlans=this.collectionPlans.getOffersByTab("grand_gesture"),this.viewFooter=(new CCweb.view_plans_footer).render(),this.collectionPlans.on("reset",this.render)},render:function(){this.viewFooter&&this.viewFooter.$el.detach(),this.$el.empty().append(this.template()),this.$(".special_offers_content").append(this.textTemplate());var e=this;return _.each(this.modelPlans,function(i){var t=CCweb.view_plan_factory.create(i);t&&(e.$(".special_offers_content").append(t.render().$el),e.childViews.push(t))}),this.$(".tab_footer").replaceWith(this.viewFooter.$el),this},onBackClick:function(){CCweb.events.trigger("plans:backbutton_click");{var e="/plans";CCweb.app.navigate(e,!0)}return!1},onClose:function(){this.viewFooter.close(),_.each(this.childViews,function(e){e.close()}),this.childViews.length=0}});