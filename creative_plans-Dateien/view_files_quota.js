CCweb.view_files_quota=Backbone.View.extend({className:"files_quota",initialize:function(t){t=t||{},_.bindAll(this,"render","extract","renderQuota"),this.template='<div class="usage_indicator"><div class="usage_track"><div class="usage_percent"></div></div><div class="usage_total"></div>',this.model_quota=t.model_quota},render:function(){return CCweb.events.bind("page_view",this.extract),this.$el.html(this.template),this.model_quota.bind("change",this.renderQuota),this.model_quota.get("storage_quota")>0&&this.renderQuota(),this},extract:function(){CCweb.events.unbind("page_view",this.extract),this.$el.remove()},renderQuota:function(){var t=Math.round(+this.model_quota.get("storage_used")/+this.model_quota.get("storage_quota")*100),e=this.model_quota.get("storage_quota")+"GB";this.$(".usage_total").text(e),this.$(".usage_percent").css("width",t+"%")}});